BEGIN;

-- Вставляем продукты
INSERT INTO
    products (
        name,
        price,
        description,
        type
    )
VALUES (
        'Пицца Маргарита',
        10.99,
        'Классическая пицца с томатным соусом, моцареллой и базиликом',
        'pizza'
    ),
    (
        'Пицца Пепперони',
        12.99,
        'Пицца с томатным соусом, моцареллой и острой колбасой пепперони',
        'pizza'
    ),
    (
        'Пицца Гавайская',
        11.99,
        'Пицца с томатным соусом, моцареллой, ветчиной и ананасами',
        'pizza'
    ),
    (
        'Бургер Классический',
        8.99,
        'Говяжья котлета, сыр, салат, помидор, лук, соус',
        'burger'
    ),
    (
        'Бургер Чизбургер',
        9.49,
        'Говяжья котлета, два ломтика сыра, салат, соус',
        'burger'
    ),
    (
        'Картофель Фри',
        3.99,
        'Хрустящий картофель фри с солью',
        'side'
    ),
    (
        'Наггетсы',
        5.49,
        'Куриные наггетсы, 6 штук',
        'side'
    ),
    (
        'Кока-Кола',
        2.49,
        'Газированный напиток',
        'drink'
    ),
    (
        'Фанта',
        2.49,
        'Газированный напиток',
        'drink'
    ),
    (
        'Спрайт',
        2.49,
        'Газированный напиток',
        'drink'
    );

-- Вставляем топпинги для пицц
INSERT INTO
    toppings (product_id, name, price)
VALUES (1, 'Дополнительный сыр', 1.50),
    (1, 'Оливки', 1.00),
    (1, 'Грибы', 1.00),
    (2, 'Дополнительный сыр', 1.50),
    (2, 'Халапеньо', 0.75),
    (2, 'Бекон', 1.25),
    (3, 'Дополнительный сыр', 1.50),
    (3, 'Курица', 1.25),
    (3, 'Креветки', 2.00);

-- Вставляем топпинги для бургеров
INSERT INTO
    toppings (product_id, name, price)
VALUES (4, 'Бекон', 1.50),
    (4, 'Яйцо', 0.75),
    (4, 'Авокадо', 1.00),
    (5, 'Бекон', 1.50),
    (5, 'Грибы', 0.75),
    (5, 'Лук', 0.50);

-- Вставляем топпинги для гарниров
INSERT INTO
    toppings (product_id, name, price)
VALUES (6, 'Сырный соус', 0.75),
    (6, 'Чесночный соус', 0.75),
    (7, 'Барбекю соус', 0.50),
    (7, 'Сладкий чили соус', 0.50);

COMMIT;

BEGIN;

-- Очищаем таблицы и сбрасываем sequence (опционально)
TRUNCATE TABLE cart_items, carts RESTART IDENTITY CASCADE;

-- Вставляем тестовые корзины для пользователей
INSERT INTO
    carts (user_id)
VALUES (1001), -- Корзина 1
    (1002), -- Корзина 2
    (1003), -- Корзина 3
    (1004);
-- Корзина 4 (пустая)

-- Вставляем элементы корзины для пользователя 1001 (корзина 1)
INSERT INTO
    cart_items (
        cart_id,
        item_id,
        type,
        price,
        quantity
    )
VALUES (1, 101, 'product', 10.99, 2), -- 2 продукта с ID 101
    (1, 102, 'product', 8.50, 1), -- 1 продукт с ID 102
    (1, 201, 'topping', 1.50, 3), -- 3 топпинга с ID 201
    (1, 202, 'topping', 0.75, 2);
-- 2 топпинга с ID 202

-- Вставляем элементы корзины для пользователя 1002 (корзина 2)
INSERT INTO
    cart_items (
        cart_id,
        item_id,
        type,
        price,
        quantity
    )
VALUES (2, 103, 'product', 12.99, 1),
    (2, 203, 'topping', 1.25, 1),
    (2, 204, 'topping', 0.50, 4);

-- Вставляем элементы корзины для пользователя 1003 (корзина 3)
INSERT INTO
    cart_items (
        cart_id,
        item_id,
        type,
        price,
        quantity
    )
VALUES (3, 104, 'product', 15.00, 3),
    (3, 205, 'topping', 2.00, 1);

-- Корзина 4 (ID 4) оставляем пустой (для демонстрации)

COMMIT;